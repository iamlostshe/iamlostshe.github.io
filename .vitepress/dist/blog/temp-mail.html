<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>iamlostshe blog</title>
    <meta name="description" content="A VitePress Site">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.B7ksMjjH.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.DIswc-hH.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.fu7-LmfX.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BD_Yrv4e.js">
    <link rel="modulepreload" href="/assets/blog_temp-mail.md.BInNwnJi.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>iamlostshe blog</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Home</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/iamlostshe" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://t.me/iamlostshe" aria-label="telegram" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-telegram"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/iamlostshe" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://t.me/iamlostshe" aria-label="telegram" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-telegram"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><!----><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/blog/wb-pars.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>wb-pars.md</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/blog/barsapi.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>barsapi.md</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/blog/temp-mail.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>temp-mail.md</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/blog/tg-scam-bot.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>tg-scam-bot.md</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/blog/no-smartphone.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>no-smartphone.md</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _blog_temp-mail" data-v-e6f2a212><div><p>мне нужно написать скрипт <strong>авторега аккаунтов</strong> для одного популярного сервиса. логичным решением было использовать <strong>временные почты</strong>.</p><p>ранее (~1.5 года назад) я уже использовал для таких задач python-библиотеку <a href="https://github.com/cubicbyte/tempmail-python" target="_blank" rel="noreferrer">tempmail</a>, но она <a href="https://github.com/cubicbyte/tempmail-python/issues/13" target="_blank" rel="noreferrer">перестала работать</a>.</p><p>в моей <a href="https://github.com/cubicbyte/tempmail-python/issues/13" target="_blank" rel="noreferrer">issue</a> к <a href="https://github.com/cubicbyte/tempmail-python" target="_blank" rel="noreferrer">tempmail</a> предложили <a href="https://github.com/MainSilent/MailTm" target="_blank" rel="noreferrer">альтернативу</a>.</p><p>но в связи с устаревшими решениями по коду я решил <a href="https://github.com/iamlostshe/mail-tm" target="_blank" rel="noreferrer">форкнуть</a> либу. Оказалось, что механизм библиотеки достаточно прост - она использует <a href="https://api.mail.tm/" target="_blank" rel="noreferrer">открытые api</a> сервиса mail.tm.</p><p>проведя небольшой ресёрч в интернете я нашел сервис mail.gw, который выглядит/работает также, как mail.tm и с которым, как оказалось, уже может работать мой форк. (<a href="https://github.com/iamlostshe/mail-tm" target="_blank" rel="noreferrer">https://github.com/iamlostshe/mail-tm</a>)</p><p>но, есть проблема: при регистрации аккаунта сервис легко обнаруживает временные почты (предположительно, по черному списку доменов).</p><p>значит нам предстоит развернуть собственный сервер временной электронной почты на собственном домене.</p><p>у меня есть бесплатный безлимитный запас доменов 3-го уровня (domain.domain.com). но я не уверен что на таком домене можно поднять почту/редирект (по крайней мере ни разу не видел почт вида <a href="mailto:support@domain.domain.com" target="_blank" rel="noreferrer">support@domain.domain.com</a>, хотя возможно это просто никому не нужно).</p><p>исходный код сервера mail.tm и mail.gw (предположительно) был опубликован на GitHub. по крайней мере так было с документацией, (<a href="https://docs.mail.tm/" target="_blank" rel="noreferrer">https://docs.mail.tm/</a>) но с 2022 года или ранее недоступен (определил по архивным копиям).</p><p>запрос на почты поддержки (<a href="mailto:support@mail.tm" target="_blank" rel="noreferrer">support@mail.tm</a>, support@mail.qw), в дс/тг (<a href="https://discord.com/invite/mail" target="_blank" rel="noreferrer">https://discord.com/invite/mail</a>) не дал результатов (мне не ответили).</p><p>из этого можно сделать вывод: исходный код серверной части можно считать закрытым, а значит нам нужно написать свой.</p><p>продолжая пост об авторегах и временных почтах (<a href="https://t.me/iamlostshe_blog/47" target="_blank" rel="noreferrer">https://t.me/iamlostshe_blog/47</a>):</p><p>проводя ресёрч информации о сервисе в интернете, я наткнулся, на github репозиторий двухлетней давности, представляющий из себя асинхронную python-обёртку для <code>api</code> сервиса.</p><p>автор репозитория откопал openapi документацию, в ходе реверс инженеринга запросов на телефоне.</p><p>разведывая openapi сервиса, я наткнулся на метод для авторизации по системе логин/пароль и вспомнил, что там до сих пор нет, ни подтверждения через почту/номер телефона, ни двухфакторной аутентификации.</p><p>значит для брута аккаунтов нам нужно где-то взять базу ников пользователей.</p><p>раньше, ради интереса я писал парсер, собирающий всю базу логинов пользователей сервиса. но была у скрипта одна проблема, которая не дала мне тогда закончить исследование - время. это было связано с ограничениями сервиса, нужно было минимум 5 секунд между запросами, во избежание блокировок.</p><p>немного переписав скрипт (там был ужас по коду) я запустил сбор логинов.</p><p>при первом запуске, собрав почти треть юзернеймов, я потерял базу из-за отключения электричества.</p><p>но со второго раза всё получилось.</p><p>всего собрано ников: 2 122 083. всего собрано страниц: 9 844.</p><p>время на парсинг всех ников: ~14 часов</p><p>интересно то, что много людей указывают номера телефона в качестве ника, сомнительное решение.. я подсуетился и написал скрипт для поиска телефонных номеров в никах:</p><p>всего собрано номеров: 4958, 0.23% (от собранных ников).</p><p>ник = номер: 3657, 73.8% (от найденных номеров). номер в конце: 667, 13.5% (от найденных номеров). номер в начале: 595, 12% (от найденных номеров). другое: 39, 0.8% (от найденных номеров).</p><p>также, скриптом для поиска аномалий найдены 4 ника (данные анонимизированы):</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&#39;https://example.com/user/7777777777 &#39;</span></span>
<span class="line"><span>&#39;https://example.com/user/iamlostshe1\n&#39;</span></span>
<span class="line"><span>&#39;https://example.com/user/iamlostshit\n&#39;</span></span>
<span class="line"><span>&#39;https://example.com/user/iamlost_aim\n&#39;</span></span></code></pre></div><blockquote><p>Будет круто оставить отслку, в авторегах и регистрировать все аккаунты с ником, типа:</p><p><code>iamlostshe_11\n</code></p></blockquote><p>из интересных символов здесь фигурирует &#39; &#39; (пробел) и &#39;\n&#39; (символ переноса строки).</p><blockquote><p>кстати, первая страница переводит на тех. работы.</p></blockquote><p>аномалии больше похожи на непроизвольные, как минимум потому, что профили людей выглядят настоящими и не связаны с программированием.</p><p>даты регистрации аномальных аккаунтов разбросаны, последняя - май 2025, а это значит, что скорее всего до сих пор можно делать интересные ники.</p><p>что дальше?</p><ol><li>попробую зарегистрировать аккаунт с пробелом или переносом строки, кириллическими символами. посмотрим, как на это будут реагировать люди/администраторы сервиса. (по крайней мере метод апи, отвечающий за проверку доступности ника не ругается на &quot;яемлосше&quot;).</li></ol><blockquote><p>ник с пробелом зарегистрировать не даёт. аккаунты со &#39;\n&#39; регистрируются, &#39;\n&#39; считается за один символ (минимум 4) и любое кол-во &#39;\n&#39; считается занятым ником (то есть нужно добавить что-то в начале/конце/посередине).</p></blockquote><ol start="2"><li><p>попытаюсь брутить акки. cпойлер: меня (спойлер: не только меня) заблокировали по ip, видимо плохой идеей было посылать 20 запросов за минуту с одного ip. значится, собираем ботнет..</p></li><li><p>продолжая ветку авторегов: в <code>api</code> есть метод для регистрации аккаунта, он не просит почты/номера телефона, но возможно предоставляет ограниченные возможности (однако, возможно их можно обойти напрямую через <code>api</code>).</p></li><li><p>нужно задуматься о прокси (желательно мобильных). для брута и авторегов пригодится.</p></li></ol><p>проводя ресёрч решений по поднятию собственной python-совместимой почты, я наткнулся на старенькую статью на habr (<a href="https://habr.com/ru/articles/143241/" target="_blank" rel="noreferrer">https://habr.com/ru/articles/143241/</a>) о библиотеке inbox.py (<a href="https://github.com/billzhong/inbox.py" target="_blank" rel="noreferrer">https://github.com/billzhong/inbox.py</a>), которая позиционирует себя как простой почтовый smtp-сервер для людей.</p><p>интересный факт: в контрибьюторах библиотеки числится создатель requests (популярной библиотеки для парсинга).</p><p>когда я попытался развернуть локальный почтовый сервер с помощью библиотеки, оказалось, что она давно не поддерживается и не может работать с python версии 3.12 и выше.</p><p>логичным решением было форкнуть (<a href="https://github.com/iamlostshe/inboxium" target="_blank" rel="noreferrer">https://github.com/iamlostshe/inboxium</a>) библиотеку, обновив зависимости (переписал на aiosmtpd).</p><p>теперь она работает в современном python (и называется inboxium (<a href="https://github.com/iamlostshe/inboxium" target="_blank" rel="noreferrer">https://github.com/iamlostshe/inboxium</a>)).</p><p>поднял почту на VDS.</p><p>ради интереса решил отправить письмо, просто, по ip (<a href="mailto:admin@0.0.0.0" target="_blank" rel="noreferrer">admin@0.0.0.0</a>) - работает. не знал, что так можно, по крайней мере ни разу не видел чтобы так делали.</p><p>но, к моему удивлению на моём домене третьего уровня работать отказалось.</p><p>для того чтобы понять в чём была проблема, немного введу в курс:</p><p>я арендую сервер у одного популярного хостинга, любой пользователь которого может зарегистрировать на себя технический (тестовый) домен (example.hoster.com) третьего уровня или выше.</p><p>оказалось, что проблема была в том, что в MX записях у домена указаны сервера хостинга (mx.hostname.com), а не мои и изменить их я не могу.</p><p>в этот момент мне стало интересно сколько таких служебных доменов зарегистрировано. и мы можем узнать с помощью утилиты для поиска доменов 3-го уровня и выше - subfinder:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>subfinder -d hoster.com</span></span></code></pre></div><p>всего зарегистрировано 2464 домена (я ожидал больше), 394 из них - просто дубликаты с &#39;www.&#39;. на 905 из них действительно было что-то поднято: реальные тестовые версии сайтов/<code>api</code>, пустые страницы (404), админки, гит-репозитории и многое другое, в общем ничего интересного.</p><p>очень много случайно сгенерированных, типа, 1535453-cx84936.hoster.com.</p><p>самый длинный из них:</p><p>node-tvkrdsmneteh3a7l5tgx68mwf5s0jzzqwhkawm7fzvjmdlckeqr8coq2.dcszhwnh8ieodntwm42pnvdv24avb0kqua6i8i6zvk9406s8zu3kvgtf.hoster.com</p><p>скорее всего это не все домены, т. к. я не нашёл свои. возможно, у subfinder есть ограничения.</p><p>значит нужно просто купить домен и прописать ip сервера в DNS (однако, меня всё ещё смущает необходимость ввода паспортных данныx для регистрации).</p><p>после успешной покупки домена и проброса MX записей в DNS мы имеем рабочую почту на домене 3-го уровня.</p><p>но проблемы начались с другой стороны:</p><p>для подтверждения почты сервис отправляет сообщение, в формате, который библиотека считает пустым текстом.</p><p>это значит, что нам придётся переписать механизм препарирования сообщений (чтобы пользователь мог получить сырые данные).</p><p>и ещё я давно хотел сделать структуру работы с сообщениями как в <a href="https://pypi.org/project/aiogram" target="_blank" rel="noreferrer">aiogram</a>, чтобы был единый класс message и разработчик мог получить из него всё остальное:</p><p>by (str): получатель (-и). sender (str): отправитель. subject (str): тема письма. text (str): текст письма. raw (str): сырой текст письма (для таких случаев как наш).</p><p>вот пример кода на обновлённом <a href="https://github.com/iamlostshe/inboxium" target="_blank" rel="noreferrer">inboxium</a>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@inbox.message</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message: InboxMessage) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;Handle any messages.&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> message.sender </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> TARGET_SENDER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;!!! Верно обнаружен отправитель !!!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        urls </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> re.findall(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FIND_CONFIDER_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, message.raw)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> urls:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requests.get(urls[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;!!! Почта подтверждена </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">urls[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> !!!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>кстати, заметил, что в стандартных классах современного python, связанных с email отвратительное оформление кода. так что даже в питоне есть еще что форкать))</p><p>для удобства работы, систему было решено сделать автономной:</p><p>на VDS с белым IP поднят скрипт, который сверяет отправителя и тему письма и переходит по ссылкам для подтверждения почты.</p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><!----></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/blog/wb-pars.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>wb-pars.md</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blog_autoreg.md\":\"JjVWt_4s\",\"blog_barsapi.md\":\"CloM-JQC\",\"blog_no-smartphone.md\":\"BZBNtRlD\",\"blog_temp-mail.md\":\"BInNwnJi\",\"blog_tg-scam-bot.md\":\"DTQtLXUu\",\"blog_wb-pars.md\":\"DGUoGUrU\",\"index.md\":\"75zF9c7k\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"iamlostshe blog\",\"description\":\"A VitePress Site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"}],\"sidebar\":[{\"items\":[{\"text\":\"wb-pars.md\",\"link\":\"blog/wb-pars.md\"},{\"text\":\"barsapi.md\",\"link\":\"blog/barsapi.md\"},{\"text\":\"temp-mail.md\",\"link\":\"blog/temp-mail.md\"},{\"text\":\"tg-scam-bot.md\",\"link\":\"blog/tg-scam-bot.md\"},{\"text\":\"no-smartphone.md\",\"link\":\"blog/no-smartphone.md\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/iamlostshe\"},{\"icon\":\"telegram\",\"link\":\"https://t.me/iamlostshe\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>